# jenkins_test
Тестовое задание по развертыванию Jenkins в виде контейнера docker.

## Общее описание playbook

Данный playbook предназначен для развертывания сервиса Jenkins на целевом сервере.
Предполагается что docker уже установлен на целевом сервере и сервис docker запущен.

Применить playbook к целевому inventory можно следующей командой:

`$ ansible-playbook -i inventory playbook-deploy-jenkins.yaml`

Для отката изменений необходимо использовать другой playbook:

`$ ansible-playbook -i inventory playbook-remove-jenkins.yaml`

Обратите внимание! При применении `playbook-remove-jenkins.yaml` будут также удалены все созданные тома (docker volumes) 
и загруженный образ (docker image).

## Пример файла inventory

Для применения сценария `playbook-deploy-jenkins.yaml` необходимо заранее подготовить файл `inventory`.
Можно указать адрес либо hostname целевого сервера в соответствующей группе `docker_host` вместо `IP_ADDRESS`.

```
[docker_host]
IP_ADDRESS
```

## Опциональные агрументы

В сценарии можно изменить поведение ansible при развертывании.

* restart: no
При значении `no` параметра restart, контейнер не будет перезапускаться при повторном применении сценария развертывания.
Можно изменить на `yes`, чтобы перезапускался.

* recreate: no
При значении `no` параметра recreate, контейнер не будет пересоздан из образа при повторном применении сценария развертывания.
Можнно изменить на `yes`, чтобы пересоздавался.
